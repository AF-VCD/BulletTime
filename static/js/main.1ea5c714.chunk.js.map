{"version":3,"sources":["bullet_time/images/header.jpg","bullet_time/data/acronyms.sqlite","bullet_time/component/Drawer.jsx","bullet_time/component/PageDialog.jsx","bullet_time/component/StateSaver.jsx","bullet_time/component/AppBar.jsx","bullet_time/data/DialogContent.jsx","bullet_time/component/AcronymDecorator.jsx","bullet_time/logic/Utils.js","bullet_time/component/TrimController.jsx","bullet_time/component/BulletMenu.jsx","bullet_time/component/Bullet.jsx","bullet_time/component/Guide.jsx","bullet_time/component/BulletRange.jsx","bullet_time/component/Ruler.jsx","bullet_time/logic/GraberUtils.js","bullet_time/component/BulletComposer.jsx","bullet_time/component/Thesaurus.jsx","bullet_time/App.jsx","index.jsx"],"names":["module","exports","useStyles","makeStyles","list","width","TemporaryDrawer","props","classes","Drawer","open","onClose","toggleDrawer","className","role","onClick","onKeyDown","List","ListItem","button","viewAbout","ListItemIcon","ListItemText","primary","component","href","target","Divider","viewLicense","PageDialog","DialogTitle","withStyles","theme","root","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","children","other","disableTypography","Typography","variant","IconButton","aria-label","DialogContent","MuiDialogContent","handleClose","handleDialog","Dialog","aria-labelledby","maxWidth","id","title","dividers","content","StateSaver","FormControlLabel","control","Switch","checked","autosave","onChange","handleClick","label","flexGrow","menuButton","marginRight","ButtonAppBar","React","useState","open_drawer","state","setState","dialogOpen","setDialogOpen","gutterBottom","Link","dialog","setDialog","snackOpen","setSnackOpen","event","type","key","handleSnackClose","reason","setDialogContent","AppBar","src","HeaderImage","style","objectFit","maxHeight","Toolbar","edge","Button","success","getShareableLink","console","log","marginLeft","handleAutosave","rel","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","action","Fragment","size","fontSize","AcronymDecorator","anchorEl","setAnchorEl","Boolean","selection","SelectionState","createEmpty","blockKey","set","start","end","newContentState","Modifier","replaceText","contentState","innerText","handlePreview","Popover","transformOrigin","decoratedText","replace","itemRenders","db","arg","result","exec","pair_id","items","length","values","itemResult","getMenuOptions","item","push","onMouseOver","dense","renderMenuOptions","onContextMenu","preventDefault","currentTarget","Trim","trim","guide","onTrim","input","value","test","isNaN","parseInt","Grid","justify","alignItems","container","ButtonGroup","ChevronLeft","TextField","onBlur","InputProps","endAdornment","InputAdornment","ChevronRight","BulletMenu","Paper","elevation","direction","graberized","onGraberize","Bullet","contentEditable","Guide","bulletRenderer","contentBlock","bulletBlockStyle","BulletRange","forwardRef","ref","disabled","editorState","readOnly","blockRendererFn","blockStyleFn","newBlock","ContentBlock","text","genKey","blockMap","getCurrentContent","getBlockMap","ContentState","createFromBlockArray","toArray","newEditorState","EditorState","moveFocusToEnd","Ruler","useRef","useEffect","current","offsetWidth","graberSpace","bullet","lastOp","isWhiteSpace","element","rank","spaces","ranks","bulletArray","split","findIndex","elem","subArrayPosition","slice","Op","newRanks","indexOfMaxValue","reduce","iMax","x","i","arr","demote","indexOfMinValue","iMin","promote","forEach","index","newBullet","join","BulletComposer","compositeDecorator","CompositeDecorator","strategy","callback","regex","matchArr","getText","findWithRegex","regexp","handleContentChange","handleEditorChange","decorator","editorRef","createRef","rulers","this","getBlocksAsArray","block","handleWidthMeasurement","getKey","forceReview","graberize","bulletWidths","entries","entry","finished","getBlockForKey","newWidth","delete","handleWidthChange","graberizeContent","createWithContent","blur","metadata","get","GUIDE_DEFAULT","handleGuideChange","xs","handleGraberize","handleTrim","renderRulers","Component","SynonymViewer","word","synonyms","searchField","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","dat","JSON","parse","responseText","map","send","getSynonyms","textContent","mainBody","Card","CardContent","columnCount","handleSynonymClick","noResult","fullWidth","handleValueChange","align","SynonymList","Synonym","createMuiTheme","main","secondary","light","BulletTime","params","url","window","location","search","query","substr","part","decodeURIComponent","getJsonFromUrl","undefined","localStorage","getItem","bullets","atob","createFromText","acronymDb","err","acronymRegExp","Map","initSqlJs","then","SQL","xhr","AcronymList","responseType","onload","e","uInt8Array","Uint8Array","response","Database","getRegExp","catch","regexp_def","sort","a","b","filter","RegExp","setItem","getPlainText","stringify","clear","origin","textArea","document","createElement","left","height","border","outline","boxShadow","background","body","appendChild","focus","select","successful","execCommand","removeChild","copyTextToClipboard","btoa","encodeURIComponent","saveState","cb","ThemeProvider","renderComposer","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1ea5c714.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header.7b6f2411.jpg\";","module.exports = __webpack_public_path__ + \"static/media/acronyms.74aea95b.sqlite\";","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport Description from '@material-ui/icons/Description';\nimport InfoIcon from '@material-ui/icons/Info';\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n  },\n});\n\n\nexport default function TemporaryDrawer(props) {\n  const classes = useStyles();\n\n  const list = () => (\n    <div\n      className={classes.list}\n      role=\"presentation\"\n      onClick={props.toggleDrawer(false)}\n      onKeyDown={props.toggleDrawer(false)}\n    >\n      <List>\n        <ListItem\n          button\n          onClick={props.viewAbout}\n        >\n          <ListItemIcon><InfoIcon /></ListItemIcon>\n          <ListItemText primary='About' />\n        </ListItem>\n        <ListItem\n          button\n          component=\"a\"\n          href=\"https://github.com/smpentecost/BulletTime/tree/master\"\n          target=\"_blank\"\n        >\n          <ListItemIcon><GitHubIcon /></ListItemIcon>\n          <ListItemText primary='View Source' />\n        </ListItem>\n        <Divider/>\n        <ListItem\n          button\n          onClick={props.viewLicense}\n        >\n          <ListItemIcon><Description /></ListItemIcon>\n          <ListItemText primary='License' />\n        </ListItem>\n\n      </List>\n    </div>\n  );\n\n  return (\n    <div>\n      <Drawer open={props.open} onClose={props.toggleDrawer(false)}>\n        {list()}\n      </Drawer>\n    </div>\n  );\n}\n","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function PageDialog(props) {\n\n  const styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  });\n\n  const DialogTitle = withStyles(styles)((props) => {\n    const { children, classes, onClose, ...other } = props;\n    return (\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\n        <Typography variant=\"h6\">{children}</Typography>\n        {onClose ? (\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n            <CloseIcon />\n          </IconButton>\n        ) : null}\n      </MuiDialogTitle>\n    );\n  });\n  \n  const DialogContent = withStyles((theme) => ({\n    root: {\n      padding: theme.spacing(2),\n    },\n  }))(MuiDialogContent);\n  \n  const handleClose = () => {\n    props.handleDialog(false);\n  };\n\n  return (\n    <div>\n      <Dialog onClose={handleClose}\n              aria-labelledby=\"customized-dialog-title\"\n              open={props.open}\n              maxWidth='md'\n      >\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n          {props.title}\n        </DialogTitle>\n        <DialogContent dividers>\n          {props.content}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport { FormControlLabel,\n         Switch,\n       } from '@material-ui/core';\n\nexport default function StateSaver(props) {\n\n  return(\n    <FormControlLabel\n      control=\n        {<Switch\n           checked={props.autosave}\n           onChange={() => props.handleClick()} \n         />}\n      label=\"Auto-Save\"\n    />\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HeaderImage from '../images/header.jpg';\nimport AppBar from '@material-ui/core/AppBar';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport CloseIcon from '@material-ui/icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\n\n\nimport Drawer from './Drawer';\nimport PageDialog from './PageDialog';\nimport StateSaver from './StateSaver';\n\nimport { About, License, Warning } from '../data/DialogContent';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function ButtonAppBar(props) {\n  const classes = useStyles();\n  const [state, setState] = React.useState({open_drawer: false});\n  const [dialogOpen, setDialogOpen] = React.useState(true);\n  const [dialog, setDialog] = React.useState(Warning());\n  const [snackOpen, setSnackOpen] = React.useState(false);\n\n  const toggleDrawer = (open) => (event) => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state, open_drawer: open});\n  };\n\n  const handleDialog = (dialogOpen) => {\n    setDialogOpen(dialogOpen);\n  };\n\n  const handleSnackClose = (event, reason) => {\n     if (reason === 'clickaway') {\n      return;\n    }\n\n    setSnackOpen(false);\n  };\n\n  const handleShareableLink = () => {\n    let success = props.getShareableLink();\n    console.log(success);\n    if (success){\n      setSnackOpen(true);\n    }\n  };\n\n  const setDialogContent = (dialog) => {\n    setDialog(dialog);\n  };\n\n  const viewAbout = () => {\n    setDialogContent(About());\n    handleDialog(true);\n  };\n\n  const viewLicense = () => {\n    setDialogContent(License());\n    handleDialog(true);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <img\n          src={HeaderImage}\n          style={{objectFit: 'cover', maxHeight: '40px'}}\n        />\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={toggleDrawer(true)}>\n            <MenuIcon/>\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Bullet Time\n          </Typography>\n          <Button\n            variant=\"contained\"\n            onClick={handleShareableLink}\n          >\n            Copy Shareable Link\n          </Button>\n          <Typography\n            style={{ marginLeft: 16 }}>\n            <StateSaver\n              autosave={props.autosave}\n              handleClick={() => props.handleAutosave()}\n            />\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <PageDialog\n          open={dialogOpen}\n          title={dialog[0]}\n          content={dialog[1]}\n          handleDialog={dialogOpen => handleDialog(dialogOpen)}\n        />\n      <Drawer\n        toggleDrawer={() => toggleDrawer()}\n        open={state[\"open_drawer\"]}\n        viewAbout={viewAbout}\n        viewLicense={viewLicense}\n      />\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={snackOpen}\n        autoHideDuration={3000}\n        onClose={handleSnackClose}\n        message=\"Copied Shareable Link to Clipboard\"\n        action={\n          <React.Fragment>\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleSnackClose}>\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nexport const About = () => {\n  const title = \"About Bullet Time\";\n  const content = (\n      <>\n        <Typography gutterBottom>\n          Bullet Time was created to ease the formatting burden that often accompanies Air Force style bullet writing. The application is not finished but new features are being added all the time. For now, Bullet Time offers the following:\n        </Typography>\n        <Typography gutterBottom>\n          <h4>Auto-Spacing (Graberization)</h4>\n          Bullet Time can automatically replace standard space characters with alternative whitespace characters in order to meet length requirements. These new characters are supported by PDF documents and will allow you to ensure your bullets fill an entire line exactly. Simply turn on \"Graberization\" and then copy and paste the bullets into your form. If you are working in a form with a different line width, change the Trim value in the Spacing Menu.\n        </Typography>\n        <Typography gutterBottom>\n          <h4>Acronym/Abbreviation Replacement</h4>\n        Bullet Time supports acronym/abbreviation recognition and replacement. As you write your bullet, if a word is <span className=\"acronym\">highlighted green</span> you can right click it to get a list of approved replacements. Note: The list of approved replacements is not currently customizable but that feature is in the works.\n        </Typography>\n        <Typography gutterBottom>\n          <h4>Datamuse Powered Thesaurus</h4>\n          Bullet Time includes a thesaurus component powered by the <a href=\"https://www.datamuse.com/api/\" target=\"_blank\" rel=\"noopener noreferrer\">Datamuse</a> API. Results are displayed based on datamuse's scoring algorithm. Unfortunately, the score given to each word isn't particularly meaningful for anything but ranking relevance. Clicking on a result will make it the new search term, allowing you to quickly find the right word for whatever you want your bullet to say.\n          <h4>Auto-Save Option</h4>\n          Bullet Time includes an auto-save feature. This will allow you to retain bullets and trim settings in between sessions, so long as you don't clear your browser's cache.\n        <Typography gutterBottom>\n          <h4>Shareable Link</h4>\n          Bullet Time now supports base64 encoded query parameters allowing you to easily share bullets with collaborators. Simply click the respective button, and an encoded link will be copied to your clipboard.\n        </Typography>\n          \n      </Typography>\n    </>\n  );\n\n  return [title, content];\n};\n\nexport const License = () => {\n  const title = \"License\";\n  const content = (\n    <>\n      <Typography gutterBottom>\n        MIT License\n        <br /><br />\n        Copyright (c) 2020 Seeley Michael Pentecost\n        <br /><br />\n        Permission is hereby granted, free of charge, to any person obtaining a copy\n        of this software and associated documentation files (the \"Software\"), to deal\n        in the Software without restriction, including without limitation the rights\n        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n        copies of the Software, and to permit persons to whom the Software is\n        furnished to do so, subject to the following conditions:\n        <br /><br />\n        The above copyright notice and this permission notice shall be included in all\n        copies or substantial portions of the Software.\n        <br /><br />\n        THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n        SOFTWARE.\n      </Typography>\n    </>\n  );\n};\n\n  export const Warning = () => {\n    const title = \"WARNING\";\n    const content = (\n      <>\n        <Typography gutterBottom>\n          I have been made aware that the acronym replacement feature is not working on\n          AFNET computers. I am trying to track down the exact cause and a work around.\n          In the mean time, if you absolutely must have some kind of acronym replacement,\n          consider trying out the&nbsp;\n          <Link href=\"https://www.lightningwithinfive.com/AFBS\" color=\"blue\">\n           Air Force Bullet Shaping and Iteration Tool\n          </Link>\n          .\n        </Typography>\n      </>\n    );\n\n  return [title, content];\n};\n","import React from 'react';\nimport { List,\n         ListItem,\n         ListItemText,\n         Popover\n       } from '@material-ui/core';\nimport { useState } from 'react';\nimport { Modifier,\n         SelectionState\n       } from 'draft-js';\nimport { getMenuOptions } from '../logic/Utils.js';\n\nexport default function  AcronymDecorator(props) {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  \n  const handleContextMenu = (event) => {\n    event.preventDefault();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClick = event => {\n    setAnchorEl(null);\n    const selection = new SelectionState\n          .createEmpty(props.blockKey)\n          .set(\"anchorOffset\", props.start)\n          .set(\"focusOffset\", props.end);\n    const newContentState = Modifier.replaceText(\n      props.contentState,\n      selection,\n      event.target.innerText,\n    );\n    props.onChange(newContentState);\n  };\n  \n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handlePreview = event => {\n    \n    // const previewBlock = new ContentBlock({\n    //   text: event.target.innerText,\n    //   key: props.children[0].props.block.getKey(),\n    //   type: 'unstyled',\n    // });\n    // const origSym = props.children[0];\n    // const preview = {\n    //   ...origSym,\n    //   props: {\n    //     ...origSym.props,\n    //     block: previewBlock,\n    //     text: event.target.innerText,\n    //   }\n    // };\n\n    // console.log(preview);\n    \n    // setContent([preview]);\n  };\n\n  const renderMenuOptions = () => {\n    const key = props.decoratedText.replace(/\\s/g, ' ');\n    let itemRenders = [];\n    for (const item of getMenuOptions(props.db, key)) {\n      itemRenders.push(\n        <ListItem button\n                  key={item}\n                  onMouseOver={handlePreview}\n                  onClick={handleClick}\n        >\n          <ListItemText>\n            {item}\n          </ListItemText>\n        </ListItem>\n      );\n    }\n    return (<List dense> {itemRenders} </List>);\n  };\n\n  return(\n    <>\n      <Popover\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'left',\n        }}\n      >\n        {renderMenuOptions()}\n      </Popover>\n      <span className=\"acronym\"\n            onContextMenu={handleContextMenu}\n      >\n        {props.children}\n      </span>\n    </>\n  );\n};\n","export function findWithRegex(regex, contentBlock, callback) {\n    const text = contentBlock.getText();\n    let matchArr, start, end;\n    while ((matchArr = regex.exec(text)) !== null) {\n      start = matchArr.index;\n      end = start + matchArr[0].length;\n      callback(start, end);\n    }\n}\n\nexport function getMenuOptions(db, key){\n  let arg = key.replace(/\\s/g, ' ').replace(/'/g, \"''\").replace(/%/g, \"[%]\")\n  let result = db.exec(\n    \"SELECT pair_id FROM words WHERE word LIKE '\" + arg + \"';\"\n  );\n  let pair_id = null;\n  let items = [];\n  if (result.length) {\n    pair_id = result[0].values[0];\n    let itemResult = db.exec(\n      \"SELECT word FROM words WHERE pair_id = \" + pair_id + \";\"\n    )\n    if (itemResult.length) {\n      items=itemResult[0].values;\n    }\n  }\n  return items;\n};\n\nexport function getJsonFromUrl(url) {\n  if (!url) url = window.location.search;\n  var query = url.substr(1);\n  var result = {};\n  query.split(\"&\").forEach(function(part) {\n    var item = part.split(\"=\");\n    result[item[0]] = decodeURIComponent(item[1]);\n  });\n  return result;\n}\n\nexport function copyTextToClipboard(text) {\n  var textArea = document.createElement(\"textarea\");\n\n  //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if the element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a\n  // flash, so some of these are just precautions. However in\n  // Internet Explorer the element is visible whilst the popup\n  // box asking the user for permission for the web page to\n  // copy to the clipboard.\n  //\n\n  // Place in the top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0;\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = 0;\n\n  // Clean up any borders.\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n\n  // Avoid flash of the white box if rendered for any reason.\n  textArea.style.background = 'transparent';\n\n\n  textArea.value = text;\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    var successful = document.execCommand('copy');\n    var msg = successful ? 'successful' : 'unsuccessful';\n  } catch (err) {\n    var successful = false;\n  }\n\n  document.body.removeChild(textArea);\n  return successful;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, ButtonGroup, Grid, IconButton, InputAdornment, TextField } from '@material-ui/core';\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(1),\n  },\n}));\n\n\nexport default function Trim(props) {\n  const classes = useStyles();\n  const awardTrim = 0;\n  const oprTrim = -5;\n  const [state, setState] = React.useState({trim: props.guide-763});\n\n  const onTrim = (arg) => (event) => {\n    const re = /^-?[0-9]*$/;\n    let trim = state.trim;\n    if (typeof arg === \"string\") {\n      if (arg === \"left\") {\n        trim--;\n      } else if (arg === \"right\") {\n        trim++;\n      }\n      setState({trim: trim});\n      props.onTrim(trim);\n    } else if (typeof arg ===\"number\") {\n      setState({trim: arg});\n      props.onTrim(arg);\n    } else {\n      let input = event.target.value;\n      if (re.test(input)) {\n        setState({trim: input});\n        if (!isNaN(input)) {\n          props.onTrim(parseInt(input, 10));\n        } else {\n          props.onTrim(0);\n        }\n      }\n    }\n  };\n\n  return(\n    <>\n      <Grid\n        justify=\"center\"\n        alignItems=\"center\" container\n      >\n        <ButtonGroup style={{ padding:'10px' }} color=\"primary\" aria-label=\"outlined primary button group\">\n          <Button color={state['trim']===awardTrim?'':'secondary'}\n                  onClick={onTrim(awardTrim)}\n          >\n            AWD/EPR\n          </Button>\n          <Button color={state['trim']===oprTrim?'':'secondary'}\n                  onClick={onTrim(oprTrim)}\n          >\n            OPR\n          </Button>\n        </ButtonGroup>\n      </Grid>\n      <Grid\n        container\n        alignItems=\"center\"\n        className={classes.root}\n      >\n        <Grid item>\n          <IconButton\n            color=\"secondary\"\n            onClick={onTrim(\"left\")}\n          >\n            <ChevronLeft\n              color=\"primary\"\n            ></ChevronLeft>\n          </IconButton>\n        </Grid>\n        <Grid item>\n          <TextField\n            style={{width: 80}}\n            value={state.trim}\n            size=\"small\"\n            label=\"Trim\"\n            variant=\"outlined\"\n            color=\"secondary\"\n            onChange={onTrim()}\n            onBlur={(event) => (\n              event.target.value === \"\" || event.target.value === \"-\" ? setState({trim: 0}):0\n            )}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">px</InputAdornment>,\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <IconButton\n            color=\"secondary\"\n            onClick={onTrim(\"right\")}\n          >\n            <ChevronRight\n              color=\"primary\"\n            ></ChevronRight>\n          </IconButton>\n        </Grid>\n      </Grid>\n    </>\n\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar,\n         Divider,\n         FormControlLabel,\n         Grid,\n         Paper,\n         Switch,\n         Toolbar,\n         Typography } from '@material-ui/core';\nimport TrimController from './TrimController';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    flexGrow: 1,\n  },\n}));\n\n\nexport default function BulletMenu(props) {\n  const classes = useStyles();\n  \n  return(\n    <Paper elevation={6}>\n      <AppBar position=\"static\">\n        <Toolbar variant=\"dense\">\n          <Typography\n            variant=\"h6\"\n            className={classes.title}\n          >\n            Spacing Menu\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Grid\n        container\n        direction=\"column\"\n        alignItems=\"center\"\n      >\n        <Grid item>\n          <TrimController\n            guide={props.guide}\n            onTrim={(arg) => props.onTrim(arg)}\n          />\n          <Divider/>\n        </Grid>\n        <Grid item>\n          <FormControlLabel\n            control=\n              {<Switch\n                 checked={props.graberized}\n                 onChange={() => props.onGraberize()}\n               />}\n            label=\"Graberize\"\n          />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { EditorBlock } from 'draft-js';\nexport default function Bullet(props) {\n  return (\n    <>\n      <span contentEditable={false}>\n        {'- '}\n      </span>\n      <EditorBlock  {...props}/>\n    </>\n  );\n}\n\n","import React from 'react';\nimport '../style/Guide.css';\n\nexport default function Guide(props) {\n  return(\n    <div\n      className=\"guide\"\n      style={{width: props.position+\"px\"}}\n    ></div>\n  );\n}\n","// 3rd party imports\nimport React from 'react';\nimport { ContentBlock,\n         ContentState,\n         Editor,\n         EditorState,\n         genKey\n       } from 'draft-js';\nimport { Paper } from '@material-ui/core';\n\n// Components\nimport Bullet from './Bullet';\nimport Guide from './Guide';\n\n// Style\nimport '../style/BulletRange.css';\n\nfunction bulletRenderer(contentBlock) {\n  return {\n    component: Bullet,\n  };\n}\n\nfunction bulletBlockStyle(contentBlock) {\n  return 'bullet-block';\n}\n\nexport const BulletRange = React.forwardRef((props, ref) => {\n\n  const handleNewBullet = () => {\n    const editorState = props.editorState;\n    const newBlock = new ContentBlock({\n      text: '',\n      key: genKey(),\n      type: 'unstyled',\n    });\n\n    const content = props.editorState.getCurrentContent();\n    let blockMap = content.getBlockMap().set(newBlock.key, newBlock);\n    const newContentState = ContentState.createFromBlockArray(blockMap.toArray());\n\n    const newEditorState = EditorState.moveFocusToEnd(\n      EditorState.push(\n        editorState,\n        newContentState,\n        'insert-characters'\n      )\n    );\n    props.onChange(newEditorState);\n  };\n\n  return(\n    <Paper elevation={6}>\n      <div className=\"guided-range\">\n        <div className={`bullet-range ${props.disabled ? \"disabled\" : \"\"}`}>\n          <Editor\n            ref = {ref}\n            editorState={props.editorState}\n            readOnly={props.disabled}\n            onChange={editorState => props.onChange(editorState)}\n            blockRendererFn={bulletRenderer}\n            blockStyleFn={bulletBlockStyle}\n          />\n          <div\n            id=\"tail\"\n            onClick={handleNewBullet}\n          >\n            - Start a new bullet...\n          </div>\n        </div>\n        <Guide position={props.guide}/>\n      </div>\n    </Paper>\n  );\n});\n\n","import React from 'react';\nimport { useEffect, useRef } from 'react';\nimport '../style/Ruler.css';\n\n\nexport default function Ruler(props) {\n  const ref = useRef(null);\n\n  // Report the width any time the content changes\n  useEffect(() => {\n    let width = ref.current ? ref.current.offsetWidth: 0;\n    props.onChange(width);\n  }, [props.content]);\n  \n  return (\n    <span ref={ref} className=\"ruler\">\n      {'- ' + props.content}\n    </span>\n  );\n}\n","export function  graberSpace(bullet, width, guide, lastOp) {\n  /*\n    The best way to do this is recursively, changing a single\n    character at once and checking length as we go. That is because\n    these spaces don't have specific pixel widths associated with\n    them. Instead their widths are dynamic - based on font style,\n    size and the other characters around them. So while it sucks\n    that we need to use synchronous logic, atleast it only happens\n    when the user toggles the spacing on.\n\n    The whitespace unicode available for use with an OPR:\n    2006:approx-2px(smallest), 2009:approx-1px(small),\n    2004:approx+2px(big), 2007:approx+4px(biggest)\n  */\n\n  const promote = (ranks) => {\n    let newRanks = ranks;\n    // promote left to right\n    let indexOfMinValue = ranks.reduce((iMin, x, i, arr) => x < arr[iMin] ? i : iMin, 4);\n    newRanks[indexOfMinValue]++;\n    // Don't promote past max rank\n    if (newRanks[indexOfMinValue] > 4) {\n      newRanks[indexOfMinValue] = 4;\n    }\n    return(newRanks);\n  };\n\n  const demote = (ranks) => {\n    let newRanks = ranks;\n    // demote right to left\n    let indexOfMaxValue = ranks.reduce((iMax, x, i, arr) => x >= arr[iMax] ? i : iMax, 0);\n    newRanks[indexOfMaxValue]--;\n    // Don't demote below min rank\n    if (newRanks[indexOfMaxValue] < 0) {\n      newRanks[indexOfMaxValue] = 0;\n    }\n    return(newRanks);\n  };\n\n  const isWhiteSpace = (element) => {\n    switch(element) {\n    case \"\\u2004\": return true;\n    case \"\\u2006\": return true;\n    case \"\\u2007\": return true;\n    case \"\\u2009\": return true;\n    case \" \": return true;\n    default: return false;\n    }\n  };\n\n  const rank = ['\\u2006', '\\u2009', ' ', '\\u2004', '\\u2007'];\n\n  let spaces = [];\n  let ranks = [];\n  let bulletArray = bullet.split('');\n  \n  //Find all the white space character indexes\n  let position = bulletArray.findIndex(isWhiteSpace);\n  while (position !== -1) {\n    spaces.push(position);\n    ranks.push(rank.findIndex(elem => elem === bulletArray[position]));\n    let subArrayPosition = bulletArray.slice(position + 1).findIndex(isWhiteSpace);\n    if (subArrayPosition !== -1) {\n      position = subArrayPosition + position + 1;\n    } else {\n      position = subArrayPosition;\n    }\n  }\n\n  let Op = null;\n  if (width > guide-1) {\n    ranks = demote(ranks);\n    Op = 'demote';\n  } else if (width < guide-1) {\n    if (!lastOp || lastOp === 'promote'){\n      ranks = promote(ranks);\n      Op = 'promote';\n    } else {\n      Op = null;\n    }\n  }\n\n  spaces.forEach((position, index) => {\n    bulletArray[position] = rank[ranks[index]];\n  });\n\n  let newBullet = bulletArray.join('');\n  let finished = (newBullet === bullet);\n\n  return [newBullet, finished, Op];\n}\n","// 3rd party imports\nimport React from 'react';\nimport { Grid } from '@material-ui/core';\nimport { CompositeDecorator,\n         ContentBlock,\n         ContentState,\n         EditorState,\n       } from 'draft-js';\n\n//Components\nimport AcronymDecorator from './AcronymDecorator';\nimport BulletMenu from './BulletMenu';\nimport { BulletRange } from './BulletRange';\nimport Ruler from './Ruler';\n\n//Logic\nimport { graberSpace } from '../logic/GraberUtils.js';\nimport { findWithRegex } from '../logic/Utils.js';\n\n\n/* This component holds the editor and menus associated with the\n * bullets. For now, it is essentially the top level component,\n * ignoring the header and app drawer.\n */\nexport default class BulletComposer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const  acronymStrategy = (contentBlock, callback, contentState) =>{\n      findWithRegex(props.regexp, contentBlock, callback);\n    };\n\n    this.compositeDecorator = new CompositeDecorator([\n      {\n        strategy:acronymStrategy,\n        component:AcronymDecorator,\n        props:{\n          db: props.db,\n          onChange: contentState =>\n            this.handleContentChange(contentState)\n        }\n      },\n    ]);\n\n    const editorState = this.props.editorState;\n    this.props.handleEditorChange(\n      EditorState.set(\n        editorState,\n        {decorator: this.compositeDecorator}\n      )\n    );\n\n    this.state = {\n      graberized: false,\n      regexp: this.props.regexp,\n    };\n\n    this.editorRef = React.createRef();\n  }\n\n  renderRulers() {\n    let rulers = [];\n    const blockArray = this.props.editorState\n          .getCurrentContent()\n          .getBlocksAsArray();\n\n    blockArray.forEach((block) => {\n      rulers.push(\n        <Ruler\n          onChange={(width) => this.handleWidthMeasurement(block.getKey(), width)}\n          content={block.getText()}\n        />\n      );\n    }, this);\n\n    return(rulers);\n  }\n\n  graberizeContent(forceReview=false) {\n    const graberize = this.state.graberized;\n    let editorState = this.props.editorState;\n    let content = editorState.getCurrentContent();\n    let blockMap = content.getBlockMap(); //resetting\n    let bulletWidths = this.props.bulletWidths;\n    for (const entry of bulletWidths.entries()) {\n      const key = entry[0];\n      const width = entry[1][0];\n      const finished = entry[1][1];\n      const lastOp = entry[1][2];\n      const block = content.getBlockForKey(key);\n      if (block) {\n        if (!finished || forceReview) {\n          let newWidth = 0;\n          let result = [];\n          if (graberize) {\n            const guide = this.props.guide;\n            result = graberSpace(block.getText(), width, guide, lastOp);\n            newWidth = width;\n          } else {\n            result = [block.getText().replace(/[\\u2004\\u2006\\u2007\\u2009]/g,' '), true, null];\n          }\n          const newBlock = new ContentBlock({\n            text: result[0],\n            key: key,\n            type: 'unstyled',\n          });\n          \n          blockMap = blockMap.set(key, newBlock);\n          bulletWidths.set(key, [newWidth, result[1], result[2]]);\n        }\n      } else {\n        bulletWidths.delete(key);\n      }\n    }\n    const newContentState = ContentState.createFromBlockArray(blockMap.toArray());\n    const newEditorState = EditorState.push(\n      editorState,\n      newContentState,\n      'insert-characters'\n    );\n    this.props.handleEditorChange(newEditorState);\n    this.props.handleWidthChange(bulletWidths);\n  }\n\n  handleGraberize() {\n    const graberize = !this.state.graberized;\n    this.setState({graberized: graberize}, () => this.graberizeContent(true));\n  }\n\n  handleContentChange(contentState) {\n    let newEditorState = EditorState.createWithContent(\n      contentState,\n      this.compositeDecorator\n    );\n    const cb = () => {\n      this.editorRef.current.blur();\n    };\n    this.props.handleEditorChange(newEditorState, cb);\n  };\n\n  handleWidthMeasurement(key, width) {\n    let bulletWidths = this.props.bulletWidths;\n    let metadata = bulletWidths.get(key);\n    let lastOp = null;\n    if (metadata) {\n      lastOp = metadata[2];\n    }\n    const guide = this.props.guide;\n    bulletWidths.set(key, [width, !(width-guide), lastOp]);\n    this.props.handleWidthChange(bulletWidths);\n    this.graberizeContent();\n  }\n\n  handleTrim(arg) {\n    const guide = this.props.GUIDE_DEFAULT + arg;\n    this.props.handleGuideChange(guide);\n    this.graberizeContent(true);\n  }\n\n  render() {\n    return (\n      <div>\n        <Grid container spacing={1}>\n          <Grid item xs>\n            <BulletRange\n              ref={this.editorRef}\n              editorState={this.props.editorState}\n              guide={this.props.guide}\n              disabled={this.state.graberized}\n              onChange={editorState => this.props.handleEditorChange(editorState)}\n            />\n          </Grid>\n          <Grid item>\n            <BulletMenu\n              guide={this.props.guide}\n              graberized={this.state.graberized}\n              onGraberize={() => this.handleGraberize()}\n              onTrim={(arg) => this.handleTrim(arg)}\n            />\n          </Grid>\n        </Grid>\n        {this.state.graberized && this.renderRulers()}\n      </div>\n    );\n  }\n}\n","// MIT License\n\n// Copyright (c) 2020 Christopher Kodama\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\n// Edited by Seeley Pentecost, June 2020\n\nimport React from 'react';\nimport { AppBar,\n         Button,\n         Card,\n         CardContent,\n         Grid,\n         Paper,\n         TextField,\n         Toolbar,\n         Typography } from '@material-ui/core';\n\nconst checkThesaurus = false;\n\nexport default class SynonymViewer extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state={\n      word:'',\n      synonyms:[],\n    };\n    this.searchField = React.createRef();\n  }\n\n  getSynonyms() {\n    const xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange =  () => {\n      if(xhttp.readyState === 4 && xhttp.status === 200){\n        const dat = JSON.parse(xhttp.responseText);\n        if(checkThesaurus) console.log(dat);\n        if(dat.length !== 0){\n          this.setState({\n            synonyms: dat.map((item)=>{return item.word;}),\n          });\n        }else{\n          this.setState({\n            synonyms:[]\n          });\n        }\n      }\n    };\n    const maxWords=25;\n    xhttp.open(\"GET\",\"https://api.datamuse.com/words?max=\"+ maxWords + \"&ml=\" + this.state.word, true);\n    xhttp.send();\n  }\n\n  componentDidMount(){\n    if( checkThesaurus) console.log('componentDidMount getting synonyms for ' + this.state.word);\n    this.getSynonyms();\n  }\n\n  handleValueChange(event){\n    let word = event.currentTarget.value;\n    this.setState({word}, this.getSynonyms);\n  }\n\n  handleSynonymClick(event){\n    let word = event.currentTarget.textContent;\n    this.setState({word}, this.getSynonyms);\n  }\n\n  render(){\n    const synonyms = <Card variant=\"outlined\"\n                           style={{maxHeight: \"210px\"}}\n                     >\n                       <CardContent\n                         style={{columnCount: 6, maxHeight: \"210px\"}}>\n                         <SynonymList\n                           synonyms={this.state.synonyms}\n                           onClick={event => this.handleSynonymClick(event)}\n                         />\n                       </CardContent>\n                     </Card>;\n\n    const noResult =<Card variant=\"outlined\"\n                           style={{maxHeight: \"210px\"}}\n                     >\n                       <CardContent\n                         style={{columnCount: 6, maxHeight: \"210px\"}}>\n                         <span>No results...</span>\n                       </CardContent>\n                     </Card>;\n\n    let mainBody;\n    if(this.state.word === ''){\n      mainBody = '';\n    }else if(this.state.synonyms.length === 0){\n      mainBody = noResult;\n    }else{\n      mainBody = synonyms;\n    }\n    \n    return (\n      <Paper elevation={6}>\n        <AppBar position=\"static\">\n          <Toolbar variant=\"dense\">\n            <Typography\n              variant=\"h6\"\n              style={{flexGrow: 1}}\n            >\n              Thesaurus\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <Grid\n          container\n          style={{padding: '10px'}}\n          direction=\"column\"\n        >\n          <Grid item>\n            <TextField\n              ref={this.searchField}\n              label=\"Find Synonyms\"\n              fullWidth={true}\n              margin='dense'\n              type=\"search\"\n              value={this.state.word}\n              onChange={event=>this.handleValueChange(event)}\n              variant=\"outlined\"\n            />\n          </Grid>\n          <Grid item>\n            {mainBody}\n          </Grid>\n          <Grid item>\n            <Typography\n              color=\"textSecondary\"\n              gutterBottom\n              align='right'\n            >\n              Powered by <a href=\"https://www.datamuse.com/api/\" target=\"_blank\" rel=\"noopener noreferrer\">Datamuse</a>.\n            </Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n    );\n  }\n}\n\nclass SynonymList extends React.Component{\n  render(){\n    if( checkThesaurus) console.log(this.props);\n    return (\n      <div>\n        <div className=\"columns is-multiline\">\n          {this.props.synonyms.map((word,i)=>{\n            return (\n              <div className='card column is-narrow ' key={i}>\n                <div className='card-content is-paddingless' >\n                  <Synonym word={word} \n                           onClick={event => this.props.onClick(event)}\n                  />\n                </div>\n              </div>\n            );}\n                                  )}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Synonym extends React.Component{\n  render(){\n    return(\n      <Button\n        style={{color: '#000000'}}\n        color='secondary'\n        variant='outlined'\n        size='small'\n        onClick={event => this.props.onClick(event)}>\n          {this.props.word}\n      </Button>\n    );\n  }\n}\n","import React from 'react';\nimport initSqlJs from \"sql.js\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport { ContentState,\n         EditorState,\n       } from 'draft-js';\n\n\n// Components\nimport AppBar from './component/AppBar';\nimport BulletComposer from './component/BulletComposer';\nimport Thesaurus from './component/Thesaurus';\n\n// Data\nimport AcronymList from './data/acronyms.sqlite';\n\n// Style\nimport './App.css';\n\n// Logic\nimport { copyTextToClipboard, getJsonFromUrl } from './logic/Utils.js';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#0d0811',\n    },\n    secondary: {\n      light: '#d7ff86',\n      main: '#08ff11',\n    },\n  },\n});\n      \nexport default class BulletTime extends React.Component {\n\n  GUIDE_DEFAULT = 763;\n  \n  constructor(props) {\n    super(props);\n\n    let params = getJsonFromUrl();\n\n    let guide = undefined;\n    if (\"guide\" in params){\n      guide = params[\"guide\"];\n    }else{\n      guide = localStorage.getItem('guide');\n    }\n    if(!guide){\n      guide = this.GUIDE_DEFAULT;\n    }\n\n    let autosave = false;\n    let bullets = undefined;\n    if (\"bullets\" in params){\n      bullets = JSON.parse(decodeURIComponent(atob(params['bullets'])));\n    }else{\n      autosave = Boolean(localStorage.getItem('autosave'));\n      bullets = JSON.parse(localStorage.getItem('bullets'));\n    }\n    if(!bullets){bullets='';};\n    let content = ContentState.createFromText(bullets);\n\n    \n    this.state = {\n      acronymDb: null,\n      err: null,\n      acronymRegExp: null,\n      autosave: autosave,\n      editorState: EditorState.createWithContent(content),\n      bulletWidths: new Map(),\n      guide: guide, //px\n      regexp: this.props.regexp,\n    };\n  }\n\n  componentDidMount() {\n    // sql.js needs to fetch its wasm file, so we cannot immediately\n    // instantiate the database without any configuration, initSqlJs\n    // will fetch the wasm files directly from the same path as the js\n    // see ../config-overrides.js\n    initSqlJs()\n      .then(SQL => {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', AcronymList , true);\n        xhr.responseType = 'arraybuffer';\n  \n        xhr.onload = e => {\n          var uInt8Array = new Uint8Array(xhr.response);\n          var db = new SQL.Database(uInt8Array);\n          this.setState({ acronymDb: db }, this.getRegExp);\n        };\n        xhr.send();\n      })\n      .catch(err => this.setState({ err }));\n  }\n\n  getRegExp() {\n    let db = this.state.acronymDb;\n    let result = db.exec(\"SELECT word FROM words;\")[0].values;\n    result = result.sort((a, b) => {return b[0].length-a[0].length;});\n    result = result.filter(x => x[0].length > 1);\n  \n    let regexp_def = \"\\\\b(\" + result.join(\"|\").replace(/[\\\\[.+*?%&(){^$]/g, \"\\\\$&\") + \")(?=([\\\\s;\\\\.]|$))\";\n    regexp_def = regexp_def.replace(/\\s/g, \"\\\\s\"); //Enable matches even after graberizing\n\n    this.setState({acronymRegExp: new RegExp(regexp_def, \"gi\")});\n  }\n\n  saveState() {\n    if(this.state.autosave){\n      localStorage.setItem(\"guide\", this.state.guide);\n      localStorage.setItem(\"autosave\", true);\n      const bullets = this.state.editorState.getCurrentContent().getPlainText();\n      localStorage.setItem(\"bullets\", JSON.stringify(bullets));\n    }else{\n      localStorage.clear();\n    }\n  }\n\n  getShareableLink() {\n    let origin = window.location.origin;\n    const bullets = this.state.editorState.getCurrentContent().getPlainText();\n    let params = \"?guide=\" + this.state.guide + \"&bullets=\" + btoa(encodeURIComponent(JSON.stringify(bullets)));\n    return(copyTextToClipboard(origin+params));\n  }\n  \n  handleAutosave() {\n    const autosave = this.state.autosave;\n    this.setState({autosave: !autosave}, this.saveState);\n  };\n\n  handleEditorChange(editorState, cb=null) {\n    this.setState({editorState}, cb);\n    this.saveState();\n  };\n\n  handleWidthChange(bulletWidths) {\n    this.setState({bulletWidths});\n  };\n\n  handleGuideChange(guide) {\n    this.setState({guide});\n    this.saveState();\n  };\n\n  renderComposer() {\n    let regexp = this.state.acronymRegExp;\n    if (!regexp) return <pre>Loading...</pre>;\n\n    return <BulletComposer\n             regexp={this.state.acronymRegExp}\n             db={this.state.acronymDb}\n             editorState={this.state.editorState}\n             bulletWidths={this.state.bulletWidths}\n             guide={this.state.guide}\n             GUIDE_DEFAULT={this.GUIDE_DEFAULT}\n             handleEditorChange={(arg, cb=null) => this.handleEditorChange(arg, cb)}\n             handleWidthChange={(arg) => this.handleWidthChange(arg)}\n             handleGuideChange={(arg) => this.handleGuideChange(arg)}\n           />;\n  }\n  \n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <Grid\n          container\n          direction=\"column\"\n          spacing={1}\n        >\n          <Grid item>\n            <AppBar\n              autosave={this.state.autosave}\n              handleAutosave={() => this.handleAutosave()}\n              getShareableLink = {() => this.getShareableLink()}\n            />\n          </Grid>\n          <Grid item>\n            {this.renderComposer()}\n          </Grid>\n          <Grid item>\n            <Thesaurus/>\n          </Grid>\n        </Grid>\n      </ThemeProvider>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./bullet_time/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}