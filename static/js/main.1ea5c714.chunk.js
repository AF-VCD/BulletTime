(this["webpackJsonpbullet-time"]=this["webpackJsonpbullet-time"]||[]).push([[0],{261:function(e,t,a){e.exports=a.p+"static/media/header.7b6f2411.jpg"},271:function(e,t,a){e.exports=a.p+"static/media/acronyms.74aea95b.sqlite"},288:function(e,t,a){e.exports=a(495)},298:function(e,t){},300:function(e,t){},310:function(e,t){},312:function(e,t){},338:function(e,t){},340:function(e,t){},341:function(e,t){},346:function(e,t){},348:function(e,t){},354:function(e,t){},356:function(e,t){},375:function(e,t){},387:function(e,t){},390:function(e,t){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),l=a(53),c=a(54),s=a(56),u=a(55),m=a(260),d=a.n(m),h=a(272),p=a(562),g=a(555),f=a(18),v=a(159),E=a(45),y=a(537),b=a(261),C=a.n(b),w=a(552),k=a(564),S=a(553),x=a(57),O=a(498),T=a(120),j=a.n(T),B=a(547),D=a(270),A=a.n(D),R=a(565),F=a(545),I=a(540),z=a(542),N=a(543),G=a(544),L=a(268),W=a.n(L),M=a(269),U=a.n(M),_=a(267),H=a.n(_),P=Object(y.a)({list:{width:250}});function J(e){var t=P();return r.a.createElement("div",null,r.a.createElement(R.a,{open:e.open,onClose:e.toggleDrawer(!1)},r.a.createElement("div",{className:t.list,role:"presentation",onClick:e.toggleDrawer(!1),onKeyDown:e.toggleDrawer(!1)},r.a.createElement(I.a,null,r.a.createElement(z.a,{button:!0,onClick:e.viewAbout},r.a.createElement(N.a,null,r.a.createElement(H.a,null)),r.a.createElement(G.a,{primary:"About"})),r.a.createElement(z.a,{button:!0,component:"a",href:"https://github.com/smpentecost/BulletTime/tree/master",target:"_blank"},r.a.createElement(N.a,null,r.a.createElement(W.a,null)),r.a.createElement(G.a,{primary:"View Source"})),r.a.createElement(F.a,null),r.a.createElement(z.a,{button:!0,onClick:e.viewLicense},r.a.createElement(N.a,null,r.a.createElement(U.a,null)),r.a.createElement(G.a,{primary:"License"}))))))}var q=a(273),K=a(549),$=a(4),V=a(546),X=a(548),Q=["children","classes","onClose"];function Y(e){var t=Object($.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,o=Object(q.a)(e,Q);return r.a.createElement(V.a,Object.assign({disableTypography:!0,className:a.root},o),r.a.createElement(x.a,{variant:"h6"},t),n?r.a.createElement(B.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(j.a,null)):null)})),a=Object($.a)((function(e){return{root:{padding:e.spacing(2)}}}))(X.a),n=function(){e.handleDialog(!1)};return r.a.createElement("div",null,r.a.createElement(K.a,{onClose:n,"aria-labelledby":"customized-dialog-title",open:e.open,maxWidth:"md"},r.a.createElement(t,{id:"customized-dialog-title",onClose:n},e.title),r.a.createElement(a,{dividers:!0},e.content)))}var Z=a(550),ee=a(566);function te(e){return r.a.createElement(Z.a,{control:r.a.createElement(ee.a,{checked:e.autosave,onChange:function(){return e.handleClick()}}),label:"Auto-Save"})}var ae=a(551),ne=Object(y.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function re(e){var t=ne(),a=r.a.useState({open_drawer:!1}),n=Object(E.a)(a,2),o=n[0],i=n[1],l=r.a.useState(!0),c=Object(E.a)(l,2),s=c[0],u=c[1],m=r.a.useState(["WARNING",r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{gutterBottom:!0},"I have been made aware that the acronym replacement feature is not working on AFNET computers. I am trying to track down the exact cause and a work around. In the mean time, if you absolutely must have some kind of acronym replacement, consider trying out the\xa0",r.a.createElement(ae.a,{href:"https://www.lightningwithinfive.com/AFBS",color:"blue"},"Air Force Bullet Shaping and Iteration Tool"),"."))]),d=Object(E.a)(m,2),h=d[0],p=d[1],g=r.a.useState(!1),f=Object(E.a)(g,2),y=f[0],b=f[1],T=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&i(Object(v.a)(Object(v.a)({},o),{},{open_drawer:e}))}},D=function(e){u(e)},R=function(e,t){"clickaway"!==t&&b(!1)},F=function(e){p(e)};return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{position:"static"},r.a.createElement("img",{src:C.a,style:{objectFit:"cover",maxHeight:"40px"}}),r.a.createElement(S.a,null,r.a.createElement(B.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:T(!0)},r.a.createElement(A.a,null)),r.a.createElement(x.a,{variant:"h6",className:t.title},"Bullet Time"),r.a.createElement(O.a,{variant:"contained",onClick:function(){var t=e.getShareableLink();console.log(t),t&&b(!0)}},"Copy Shareable Link"),r.a.createElement(x.a,{style:{marginLeft:16}},r.a.createElement(te,{autosave:e.autosave,handleClick:function(){return e.handleAutosave()}})))),r.a.createElement(Y,{open:s,title:h[0],content:h[1],handleDialog:function(e){return D(e)}}),r.a.createElement(J,{toggleDrawer:function(){return T()},open:o.open_drawer,viewAbout:function(){F(["About Bullet Time",r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{gutterBottom:!0},"Bullet Time was created to ease the formatting burden that often accompanies Air Force style bullet writing. The application is not finished but new features are being added all the time. For now, Bullet Time offers the following:"),r.a.createElement(x.a,{gutterBottom:!0},r.a.createElement("h4",null,"Auto-Spacing (Graberization)"),'Bullet Time can automatically replace standard space characters with alternative whitespace characters in order to meet length requirements. These new characters are supported by PDF documents and will allow you to ensure your bullets fill an entire line exactly. Simply turn on "Graberization" and then copy and paste the bullets into your form. If you are working in a form with a different line width, change the Trim value in the Spacing Menu.'),r.a.createElement(x.a,{gutterBottom:!0},r.a.createElement("h4",null,"Acronym/Abbreviation Replacement"),"Bullet Time supports acronym/abbreviation recognition and replacement. As you write your bullet, if a word is ",r.a.createElement("span",{className:"acronym"},"highlighted green")," you can right click it to get a list of approved replacements. Note: The list of approved replacements is not currently customizable but that feature is in the works."),r.a.createElement(x.a,{gutterBottom:!0},r.a.createElement("h4",null,"Datamuse Powered Thesaurus"),"Bullet Time includes a thesaurus component powered by the ",r.a.createElement("a",{href:"https://www.datamuse.com/api/",target:"_blank",rel:"noopener noreferrer"},"Datamuse")," API. Results are displayed based on datamuse's scoring algorithm. Unfortunately, the score given to each word isn't particularly meaningful for anything but ranking relevance. Clicking on a result will make it the new search term, allowing you to quickly find the right word for whatever you want your bullet to say.",r.a.createElement("h4",null,"Auto-Save Option"),"Bullet Time includes an auto-save feature. This will allow you to retain bullets and trim settings in between sessions, so long as you don't clear your browser's cache.",r.a.createElement(x.a,{gutterBottom:!0},r.a.createElement("h4",null,"Shareable Link"),"Bullet Time now supports base64 encoded query parameters allowing you to easily share bullets with collaborators. Simply click the respective button, and an encoded link will be copied to your clipboard.")))]),D(!0)},viewLicense:function(){F((r.a.Fragment,void x.a)),D(!0)}}),r.a.createElement(k.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:y,autoHideDuration:3e3,onClose:R,message:"Copied Shareable Link to Clipboard",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{size:"small","aria-label":"close",color:"inherit",onClick:R},r.a.createElement(j.a,{fontSize:"small"})))}))}var oe=a(121),ie=a(554);function le(e){var t=Object(n.useState)(null),a=Object(E.a)(t,2),o=a[0],i=a[1],l=Boolean(o),c=function(t){i(null);var a=new f.SelectionState.createEmpty(e.blockKey).set("anchorOffset",e.start).set("focusOffset",e.end),n=f.Modifier.replaceText(e.contentState,a,t.target.innerText);e.onChange(n)},s=function(e){};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{open:l,anchorEl:o,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},function(){var t,a=e.decoratedText.replace(/\s/g," "),n=[],o=Object(oe.a)(function(e,t){var a=t.replace(/\s/g," ").replace(/'/g,"''").replace(/%/g,"[%]"),n=e.exec("SELECT pair_id FROM words WHERE word LIKE '"+a+"';"),r=null,o=[];if(n.length){r=n[0].values[0];var i=e.exec("SELECT word FROM words WHERE pair_id = "+r+";");i.length&&(o=i[0].values)}return o}(e.db,a));try{for(o.s();!(t=o.n()).done;){var i=t.value;n.push(r.a.createElement(z.a,{button:!0,key:i,onMouseOver:s,onClick:c},r.a.createElement(G.a,null,i)))}}catch(l){o.e(l)}finally{o.f()}return r.a.createElement(I.a,{dense:!0}," ",n," ")}()),r.a.createElement("span",{className:"acronym",onContextMenu:function(e){e.preventDefault(),i(e.currentTarget)}},e.children))}var ce=a(123),se=a(556),ue=a(563),me=a(558),de=a(557),he=a(559),pe=Object(y.a)((function(e){return{root:{margin:e.spacing(1)}}}));function ge(e){var t=pe(),a=r.a.useState({trim:e.guide-763}),n=Object(E.a)(a,2),o=n[0],i=n[1],l=function(t){return function(a){var n=o.trim;if("string"===typeof t)"left"===t?n--:"right"===t&&n++,i({trim:n}),e.onTrim(n);else if("number"===typeof t)i({trim:t}),e.onTrim(t);else{var r=a.target.value;/^-?[0-9]*$/.test(r)&&(i({trim:r}),isNaN(r)?e.onTrim(0):e.onTrim(parseInt(r,10)))}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{justify:"center",alignItems:"center",container:!0},r.a.createElement(se.a,{style:{padding:"10px"},color:"primary","aria-label":"outlined primary button group"},r.a.createElement(O.a,{color:0===o.trim?"":"secondary",onClick:l(0)},"AWD/EPR"),r.a.createElement(O.a,{color:-5===o.trim?"":"secondary",onClick:l(-5)},"OPR"))),r.a.createElement(g.a,{container:!0,alignItems:"center",className:t.root},r.a.createElement(g.a,{item:!0},r.a.createElement(B.a,{color:"secondary",onClick:l("left")},r.a.createElement(de.a,{color:"primary"}))),r.a.createElement(g.a,{item:!0},r.a.createElement(ue.a,{style:{width:80},value:o.trim,size:"small",label:"Trim",variant:"outlined",color:"secondary",onChange:l(),onBlur:function(e){return""===e.target.value||"-"===e.target.value?i({trim:0}):0},InputProps:{endAdornment:r.a.createElement(me.a,{position:"end"},"px")}})),r.a.createElement(g.a,{item:!0},r.a.createElement(B.a,{color:"secondary",onClick:l("right")},r.a.createElement(he.a,{color:"primary"})))))}var fe=Object(y.a)((function(e){return{title:{flexGrow:1}}}));function ve(e){var t=fe();return r.a.createElement(ce.a,{elevation:6},r.a.createElement(w.a,{position:"static"},r.a.createElement(S.a,{variant:"dense"},r.a.createElement(x.a,{variant:"h6",className:t.title},"Spacing Menu"))),r.a.createElement(g.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(g.a,{item:!0},r.a.createElement(ge,{guide:e.guide,onTrim:function(t){return e.onTrim(t)}}),r.a.createElement(F.a,null)),r.a.createElement(g.a,{item:!0},r.a.createElement(Z.a,{control:r.a.createElement(ee.a,{checked:e.graberized,onChange:function(){return e.onGraberize()}}),label:"Graberize"}))))}function Ee(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{contentEditable:!1},"- "),r.a.createElement(f.EditorBlock,e))}a(491);function ye(e){return r.a.createElement("div",{className:"guide",style:{width:e.position+"px"}})}a(492);function be(e){return{component:Ee}}function Ce(e){return"bullet-block"}var we=r.a.forwardRef((function(e,t){return r.a.createElement(ce.a,{elevation:6},r.a.createElement("div",{className:"guided-range"},r.a.createElement("div",{className:"bullet-range ".concat(e.disabled?"disabled":"")},r.a.createElement(f.Editor,{ref:t,editorState:e.editorState,readOnly:e.disabled,onChange:function(t){return e.onChange(t)},blockRendererFn:be,blockStyleFn:Ce}),r.a.createElement("div",{id:"tail",onClick:function(){var t=e.editorState,a=new f.ContentBlock({text:"",key:Object(f.genKey)(),type:"unstyled"}),n=e.editorState.getCurrentContent().getBlockMap().set(a.key,a),r=f.ContentState.createFromBlockArray(n.toArray()),o=f.EditorState.moveFocusToEnd(f.EditorState.push(t,r,"insert-characters"));e.onChange(o)}},"- Start a new bullet...")),r.a.createElement(ye,{position:e.guide})))}));a(493);function ke(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){var a=t.current?t.current.offsetWidth:0;e.onChange(a)}),[e.content]),r.a.createElement("span",{ref:t,className:"ruler"},"- "+e.content)}function Se(e,t,a,n){for(var r=function(e){switch(e){case"\u2004":case"\u2006":case"\u2007":case"\u2009":case" ":return!0;default:return!1}},o=["\u2006","\u2009"," ","\u2004","\u2007"],i=[],l=[],c=e.split(""),s=c.findIndex(r);-1!==s;){i.push(s),l.push(o.findIndex((function(e){return e===c[s]})));var u=c.slice(s+1).findIndex(r);s=-1!==u?u+s+1:u}var m=null;t>a-1?(l=function(e){var t=e,a=e.reduce((function(e,t,a,n){return t>=n[e]?a:e}),0);return t[a]--,t[a]<0&&(t[a]=0),t}(l),m="demote"):t<a-1&&(n&&"promote"!==n?m=null:(l=function(e){var t=e,a=e.reduce((function(e,t,a,n){return t<n[e]?a:e}),4);return t[a]++,t[a]>4&&(t[a]=4),t}(l),m="promote")),i.forEach((function(e,t){c[e]=o[l[t]]}));var d=c.join("");return[d,d===e,m]}var xe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a);(n=t.call(this,e)).compositeDecorator=new f.CompositeDecorator([{strategy:function(t,a,n){!function(e,t,a){for(var n,r,o=t.getText();null!==(n=e.exec(o));)a(r=n.index,r+n[0].length)}(e.regexp,t,a)},component:le,props:{db:e.db,onChange:function(e){return n.handleContentChange(e)}}}]);var o=n.props.editorState;return n.props.handleEditorChange(f.EditorState.set(o,{decorator:n.compositeDecorator})),n.state={graberized:!1,regexp:n.props.regexp},n.editorRef=r.a.createRef(),n}return Object(c.a)(a,[{key:"renderRulers",value:function(){var e=this,t=[];return this.props.editorState.getCurrentContent().getBlocksAsArray().forEach((function(a){t.push(r.a.createElement(ke,{onChange:function(t){return e.handleWidthMeasurement(a.getKey(),t)},content:a.getText()}))}),this),t}},{key:"graberizeContent",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.state.graberized,n=this.props.editorState,r=n.getCurrentContent(),o=r.getBlockMap(),i=this.props.bulletWidths,l=Object(oe.a)(i.entries());try{for(l.s();!(e=l.n()).done;){var c=e.value,s=c[0],u=c[1][0],m=c[1][1],d=c[1][2],h=r.getBlockForKey(s);if(h){if(!m||t){var p=0,g=[];if(a){var v=this.props.guide;g=Se(h.getText(),u,v,d),p=u}else g=[h.getText().replace(/[\u2004\u2006\u2007\u2009]/g," "),!0,null];var E=new f.ContentBlock({text:g[0],key:s,type:"unstyled"});o=o.set(s,E),i.set(s,[p,g[1],g[2]])}}else i.delete(s)}}catch(C){l.e(C)}finally{l.f()}var y=f.ContentState.createFromBlockArray(o.toArray()),b=f.EditorState.push(n,y,"insert-characters");this.props.handleEditorChange(b),this.props.handleWidthChange(i)}},{key:"handleGraberize",value:function(){var e=this,t=!this.state.graberized;this.setState({graberized:t},(function(){return e.graberizeContent(!0)}))}},{key:"handleContentChange",value:function(e){var t=this,a=f.EditorState.createWithContent(e,this.compositeDecorator);this.props.handleEditorChange(a,(function(){t.editorRef.current.blur()}))}},{key:"handleWidthMeasurement",value:function(e,t){var a=this.props.bulletWidths,n=a.get(e),r=null;n&&(r=n[2]);var o=this.props.guide;a.set(e,[t,!(t-o),r]),this.props.handleWidthChange(a),this.graberizeContent()}},{key:"handleTrim",value:function(e){var t=this.props.GUIDE_DEFAULT+e;this.props.handleGuideChange(t),this.graberizeContent(!0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,{container:!0,spacing:1},r.a.createElement(g.a,{item:!0,xs:!0},r.a.createElement(we,{ref:this.editorRef,editorState:this.props.editorState,guide:this.props.guide,disabled:this.state.graberized,onChange:function(t){return e.props.handleEditorChange(t)}})),r.a.createElement(g.a,{item:!0},r.a.createElement(ve,{guide:this.props.guide,graberized:this.state.graberized,onGraberize:function(){return e.handleGraberize()},onTrim:function(t){return e.handleTrim(t)}}))),this.state.graberized&&this.renderRulers())}}]),a}(r.a.Component),Oe=a(560),Te=a(561),je=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={word:"",synonyms:[]},n.searchField=r.a.createRef(),n}return Object(c.a)(a,[{key:"getSynonyms",value:function(){var e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var a=JSON.parse(t.responseText);0,0!==a.length?e.setState({synonyms:a.map((function(e){return e.word}))}):e.setState({synonyms:[]})}};t.open("GET","https://api.datamuse.com/words?max=25&ml="+this.state.word,!0),t.send()}},{key:"componentDidMount",value:function(){this.getSynonyms()}},{key:"handleValueChange",value:function(e){var t=e.currentTarget.value;this.setState({word:t},this.getSynonyms)}},{key:"handleSynonymClick",value:function(e){var t=e.currentTarget.textContent;this.setState({word:t},this.getSynonyms)}},{key:"render",value:function(){var e,t=this,a=r.a.createElement(Oe.a,{variant:"outlined",style:{maxHeight:"210px"}},r.a.createElement(Te.a,{style:{columnCount:6,maxHeight:"210px"}},r.a.createElement(Be,{synonyms:this.state.synonyms,onClick:function(e){return t.handleSynonymClick(e)}}))),n=r.a.createElement(Oe.a,{variant:"outlined",style:{maxHeight:"210px"}},r.a.createElement(Te.a,{style:{columnCount:6,maxHeight:"210px"}},r.a.createElement("span",null,"No results...")));return e=""===this.state.word?"":0===this.state.synonyms.length?n:a,r.a.createElement(ce.a,{elevation:6},r.a.createElement(w.a,{position:"static"},r.a.createElement(S.a,{variant:"dense"},r.a.createElement(x.a,{variant:"h6",style:{flexGrow:1}},"Thesaurus"))),r.a.createElement(g.a,{container:!0,style:{padding:"10px"},direction:"column"},r.a.createElement(g.a,{item:!0},r.a.createElement(ue.a,{ref:this.searchField,label:"Find Synonyms",fullWidth:!0,margin:"dense",type:"search",value:this.state.word,onChange:function(e){return t.handleValueChange(e)},variant:"outlined"})),r.a.createElement(g.a,{item:!0},e),r.a.createElement(g.a,{item:!0},r.a.createElement(x.a,{color:"textSecondary",gutterBottom:!0,align:"right"},"Powered by ",r.a.createElement("a",{href:"https://www.datamuse.com/api/",target:"_blank",rel:"noopener noreferrer"},"Datamuse"),"."))))}}]),a}(r.a.Component),Be=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"columns is-multiline"},this.props.synonyms.map((function(t,a){return r.a.createElement("div",{className:"card column is-narrow ",key:a},r.a.createElement("div",{className:"card-content is-paddingless"},r.a.createElement(De,{word:t,onClick:function(t){return e.props.onClick(t)}})))}))))}}]),a}(r.a.Component),De=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(O.a,{style:{color:"#000000"},color:"secondary",variant:"outlined",size:"small",onClick:function(t){return e.props.onClick(t)}},this.props.word)}}]),a}(r.a.Component),Ae=a(271),Re=a.n(Ae),Fe=(a(494),Object(h.a)({palette:{primary:{main:"#0d0811"},secondary:{light:"#d7ff86",main:"#08ff11"}}})),Ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).GUIDE_DEFAULT=763;var r=function(e){e||(e=window.location.search);var t=e.substr(1),a={};return t.split("&").forEach((function(e){var t=e.split("=");a[t[0]]=decodeURIComponent(t[1])})),a}(),o=void 0;(o="guide"in r?r.guide:localStorage.getItem("guide"))||(o=n.GUIDE_DEFAULT);var i=!1,c=void 0;"bullets"in r?c=JSON.parse(decodeURIComponent(atob(r.bullets))):(i=Boolean(localStorage.getItem("autosave")),c=JSON.parse(localStorage.getItem("bullets"))),c||(c="");var s=f.ContentState.createFromText(c);return n.state={acronymDb:null,err:null,acronymRegExp:null,autosave:i,editorState:f.EditorState.createWithContent(s),bulletWidths:new Map,guide:o,regexp:n.props.regexp},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;d()().then((function(t){var a=new XMLHttpRequest;a.open("GET",Re.a,!0),a.responseType="arraybuffer",a.onload=function(n){var r=new Uint8Array(a.response),o=new t.Database(r);e.setState({acronymDb:o},e.getRegExp)},a.send()})).catch((function(t){return e.setState({err:t})}))}},{key:"getRegExp",value:function(){var e=this.state.acronymDb.exec("SELECT word FROM words;")[0].values,t="\\b("+(e=(e=e.sort((function(e,t){return t[0].length-e[0].length}))).filter((function(e){return e[0].length>1}))).join("|").replace(/[\\[.+*?%&(){^$]/g,"\\$&")+")(?=([\\s;\\.]|$))";t=t.replace(/\s/g,"\\s"),this.setState({acronymRegExp:new RegExp(t,"gi")})}},{key:"saveState",value:function(){if(this.state.autosave){localStorage.setItem("guide",this.state.guide),localStorage.setItem("autosave",!0);var e=this.state.editorState.getCurrentContent().getPlainText();localStorage.setItem("bullets",JSON.stringify(e))}else localStorage.clear()}},{key:"getShareableLink",value:function(){var e=window.location.origin,t=this.state.editorState.getCurrentContent().getPlainText();return function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.focus(),t.select();try{a=document.execCommand("copy")}catch(n){var a=!1}return document.body.removeChild(t),a}(e+("?guide="+this.state.guide+"&bullets="+btoa(encodeURIComponent(JSON.stringify(t)))))}},{key:"handleAutosave",value:function(){var e=this.state.autosave;this.setState({autosave:!e},this.saveState)}},{key:"handleEditorChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setState({editorState:e},t),this.saveState()}},{key:"handleWidthChange",value:function(e){this.setState({bulletWidths:e})}},{key:"handleGuideChange",value:function(e){this.setState({guide:e}),this.saveState()}},{key:"renderComposer",value:function(){var e=this;return this.state.acronymRegExp?r.a.createElement(xe,{regexp:this.state.acronymRegExp,db:this.state.acronymDb,editorState:this.state.editorState,bulletWidths:this.state.bulletWidths,guide:this.state.guide,GUIDE_DEFAULT:this.GUIDE_DEFAULT,handleEditorChange:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.handleEditorChange(t,a)},handleWidthChange:function(t){return e.handleWidthChange(t)},handleGuideChange:function(t){return e.handleGuideChange(t)}}):r.a.createElement("pre",null,"Loading...")}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,{theme:Fe},r.a.createElement(g.a,{container:!0,direction:"column",spacing:1},r.a.createElement(g.a,{item:!0},r.a.createElement(re,{autosave:this.state.autosave,handleAutosave:function(){return e.handleAutosave()},getShareableLink:function(){return e.getShareableLink()}})),r.a.createElement(g.a,{item:!0},this.renderComposer()),r.a.createElement(g.a,{item:!0},r.a.createElement(je,null))))}}]),a}(r.a.Component);i.a.render(r.a.createElement(Ie,null),document.getElementById("root"))}},[[288,1,2]]]);
//# sourceMappingURL=main.1ea5c714.chunk.js.map